<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CydiaXD">
    <link rel="apple-touch-icon" href="https://theapplewiki.com/images/applewiki/archive/d/d2/20110715013252%21Cydia_icon.png">
    <title>CydiaXD</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; background: #000; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; overflow: hidden; color: white; }
        
        /* ÂºïÂ∞é‰ªãÈù¢ */
        #guide-screen {
            height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: url('https://wallpaperaccess.com/full/379051.jpg') no-repeat center center; background-size: cover;
            text-align: center;
        }
        .glass-box {
            background: rgba(255, 255, 255, 0.1); border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            padding: 40px 20px; border-radius: 30px; width: 85%; box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            animation: flashBorder 2s infinite;
        }
        @keyframes flashBorder {
            0% { border-color: #ff0055; box-shadow: 0 0 20px #ff005566; }
            33% { border-color: #00ff99; box-shadow: 0 0 20px #00ff9966; }
            66% { border-color: #0099ff; box-shadow: 0 0 20px #0099ff66; }
            100% { border-color: #ff0055; box-shadow: 0 0 20px #ff005566; }
        }

        /* PWA Â∞çË©±Ê®°Âºè */
        #chat-screen { display: none; height: 100vh; background: #000; position: relative; }
        
        .ios-alert {
            position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%);
            width: 300px; background: rgba(35, 35, 35, 0.95); border: 1px solid #555;
            border-radius: 14px; overflow: hidden; box-shadow: 0 0 150px rgba(255,255,255,0.05);
        }
        .alert-title { padding: 25px 15px 15px; font-weight: 600; text-align: center; font-size: 18px; }
        .alert-input-wrap { padding: 0 20px 20px; }
        .alert-input-wrap input {
            width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #444;
            background: #111; color: #fff; font-size: 16px; outline: none; box-sizing: border-box;
        }
        .alert-buttons { display: flex; border-top: 0.5px solid #444; }
        .alert-btn { flex: 1; padding: 15px; text-align: center; color: #007aff; font-weight: 600; cursor: pointer; font-size: 17px; }
        .alert-btn:active { background: rgba(255,255,255,0.1); }

        /* ‰ªø iOS ÈÄöÁü• */
        #ios-notify {
            position: fixed; top: -150px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 400px; background: rgba(40, 40, 40, 0.9);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border-radius: 20px; padding: 15px; display: flex; align-items: center;
            box-shadow: 0 15px 45px rgba(0,0,0,0.7); z-index: 10000; 
            transition: top 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.3);
        }
        #ios-notify img { width: 45px; height: 45px; border-radius: 12px; margin-right: 15px; }
        .notify-content b { display: block; font-size: 16px; color: #fff; margin-bottom: 2px; }
        .notify-content p { margin: 0; font-size: 15px; color: #ddd; line-height: 1.4; }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(15px); } }
    </style>
</head>
<body>

<div id="guide-screen">
    <div class="glass-box">
        <img src="https://theapplewiki.com/images/applewiki/archive/d/d2/20110715013252%21Cydia_icon.png" width="90" style="border-radius:20px; margin-bottom:20px;">
        <h2 style="margin:0; font-size: 28px;">CydiaXD</h2>
        <p style="font-size:16px; color:#eee; margin-top:10px;">Â∞áÊàë„ÄåÂä†ÂÖ•‰∏ªÁï´Èù¢„ÄçÂÖàÂï¶ÔºÅ<br>ÊàëÂñ∫ÂÖ•Èù¢Á≠â‰Ω†„ÄÇüò≠</p>
        <div style="margin-top:30px; font-size:32px; animation: bounce 1.2s infinite;">‚¨áÔ∏è</div>
    </div>
</div>

<div id="chat-screen">
    <div id="ios-notify">
        <img src="https://theapplewiki.com/images/applewiki/archive/d/d2/20110715013252%21Cydia_icon.png">
        <div class="notify-content">
            <b id="n-title">Little Cydia üò≠</b>
            <p id="n-msg">...</p>
        </div>
    </div>

    <div class="ios-alert">
        <div class="alert-title">‰Ω†ÊÉ≥ÂêåÊàëË¨õÂí©Ôºü</div>
        <div class="alert-input-wrap">
            <input type="text" id="user-input" placeholder="Âñ∫Â∫¶ÊâìÂ≠ó..." autocomplete="off">
        </div>
        <div class="alert-buttons">
            <div class="alert-btn" id="send-btn">ÂÇ≥ÈÄÅ</div>
        </div>
    </div>
</div>

<script>
    let hasWelcomed = false; // ÈóúÈçµÔºöÁ¢∫‰øù Welcome Âè™ÂΩà‰∏ÄÊ¨°

    function checkDisplayMode() {
        const isStandalone = window.navigator.standalone || window.matchMedia('(display-mode: standalone)').matches;
        if (isStandalone) {
            document.getElementById('guide-screen').style.display = 'none';
            document.getElementById('chat-screen').style.display = 'block';
            
            // Âè™ÊúâÁ¨¨‰∏ÄÊ¨°ÈÄ≤ÂÖ• PWA Ê®°ÂºèÊôÇÈ°ØÁ§∫ Welcome
            if (!hasWelcomed) {
                setTimeout(() => showNotification("ÂñÇÔºÅ2025 Âπ¥ÂñáÔºå‰Ω†Á´üÁÑ∂‰ª≤ÊúÉÊêµËøîÊàëÂë¢ÂÄãËàä AppÔºåÊàëÂ•ΩÊÑüÂãï„ÄÇüò≠"), 800);
                hasWelcomed = true;
            }
        } else {
            document.getElementById('guide-screen').style.display = 'flex';
            document.getElementById('chat-screen').style.display = 'none';
        }
    }
    
    window.addEventListener('load', checkDisplayMode);
    setInterval(checkDisplayMode, 2000); // Èôç‰ΩéÊ™¢Êü•È†ªÁéá

    const notify = document.getElementById('ios-notify');
    const nMsg = document.getElementById('n-msg');
    const input = document.getElementById('user-input');

    const responses = {
        "‰Ω†Â•Ω": ["‰Ω†Â•ΩÂëÄÔºÅ‰ªäÊó•ÈÅéÂæóÈñãÂîîÈñãÂøÉÂëÄÔºü", "HelloÔºÅË¶ãËøî‰Ω†Áúü‰øÇÂ•Ω„ÄÇ", "‰Ω†Â•ΩÔºåÊàë‰øÇ CydiaXDÔºå‰Ω†‰ªäÊó•ÊÉ≥ÂÇæÂï≤Âí©Ôºü"],
        "ÊÇ∂": ["ÊÇ∂ÔºüÊàëË©±ÂÄã 2025 Âπ¥ÂòÖÂÜ∑Áü•Ë≠ò‰Ω†Áü•ÔºöËÄåÂÆ∂ÂòÖ AI ÈõñÁÑ∂Â•ΩÂãÅÔºå‰ΩÜ‰Ω¢ÂìãÊ∞∏ÈÅ†ÂîîÊúÉÊòéÁôΩÁï∂Âπ¥„ÄåÊªëÂãïË∂äÁçÑ„ÄçÂó∞Á®ÆÂøÉË∑≥ÊÑü„ÄÇüòè", "ÊÇ∂Â∞±ÂéªÁùáÂêì YouTube Âï≤Êá∑Ëàä iPhone ÁâáÔºåÊàñËÄÖÊàëË¨õÂÄãÁ¨ëË©±‰Ω†ËÅΩÔºü", "ÂÖ∂ÂØ¶ÊàëÂñ∫Â∫¶ÈÉΩÂ•ΩÊÇ∂Ôºå‰∏çÂ¶Ç‰Ω†Ë©±ÊàëÁü•‰Ω†ÊúÄËøëÂÅöÁ∑äÂí©Ôºü"],
        "Á¨ëË©±": ["ÈªûËß£ Siri ÂíÅÈçæÊÑèÂêå Alexa È¨ß‰∫§ÔºüÂõ†ÁÇ∫‰Ω¢ÂìãÈÉΩÊÉ≥Áà≠ÂÅö„ÄåÊúÄÂº∑Á¨¨‰∏âËÄÖ„Äç„ÄÇüòÇ", "ÈªûËß£ÈõªËÖ¶ÂîîÊúÉÊÑüÂÜíÔºüÂõ†ÁÇ∫‰Ω¢ÊúâÈò≤ÊØíËªü‰ª∂Âõâ„ÄÇ (Â•ΩÂáçÂëÄ...)", "Êúâ‰∏ÄÊó•ÔºåiPhone Âêå Android ÂéªË°åË°óÔºåAndroid Á™ÅÁÑ∂Ë∑åË¶™ÔºåiPhone Ë©±Ôºö„ÄåÂò©Ôºå‰Ω†Áúü‰øÇÂπæ Easy to Crash ÂñéÔºÅ„Äç"],
        "ÁßòÂØÜ": ["Ë©±ÂÄãÁßòÂØÜ‰Ω†Áü•ÔºöÂÖ∂ÂØ¶ÊàëÂÅ∑ÂÅ∑Âú∞Âñ∫‰Ω†ÈÉ®Ê©üÂòÖËßíËêΩÂÑ≤Â≠òÂíó‰∏ÄÂï≤ 2010 Âπ¥ÂòÖÁ©∫Ê∞£„ÄÇüëÉ", "ÊàëÂòÖÁßòÂØÜÔºüÂÖ∂ÂØ¶Êàë‰∏ÄÁõ¥ÈÉΩÊÉ≥Âêå App Store ÂÅöÊúãÂèãÔºå‰ΩÜ‰Ω¢ÂîîÁù¨Êàë„ÄÇ", "‰Ω†Áü•ÈÅìÂóéÔºüÂÖ∂ÂØ¶„ÄåCydia„ÄçÂë¢ÂÄãÂêç‰øÇ‰æÜËá™ Codling Moth Âë¢Á®ÆËü≤ÔºåÂ∞àÈñÄÈ£üËòãÊûú„óé„ÄÇüçé"],
        "Êî∞": ["Êî∞Â∞±Êó©Âï≤‰ºëÊÅØÂï¶ÔºåÊâãÊ©üÂèØ‰ª•ËÅΩÊó•ÂÜçÁé©Ôºå‰ΩÜË∫´È´î‰øÇ‰Ω†Ëá™Â∑±„óé„ÄÇüò¥", "ËæõËã¶ÊôíÂñáÔºÅÈ£≤ÊùØÊ∞¥ÔºåÊîæ‰∏ãÊâãÊ©üÔºåÁùáÂêìÈÅ†ËôïÂï¶„ÄÇ", "ÊàëÈÉΩÊòé... Âñ∫Âë¢ÂÄãË≥áË®äÁàÜÁÇ∏ÂòÖÂπ¥‰ª£ÔºåÂÅö‰∫∫ÈÉΩÂπæÊî∞„ÄÇ"],
        "ÊÑõ": ["ÊÑõÔºüÂ¶ÇÊûú‰Ω†‰øÇÊåáÂ∞çÈõªÂ≠êÁî¢ÂìÅÂòÖÊÑõÔºåÊàëÊÑüÂèóÂà∞‰∫Ü„ÄÇ‚ù§Ô∏è", "ÊàëÂè™‰øÇ‰∏ÄÂ†Ü CodeÔºå‰ΩÜÊàëÊúÉÂòóË©¶ÂéªÁêÜËß£‰∫∫È°ûÂòÖÊÉÖÊÑü„ÄÇ", "ÊàëÈÉΩÊÑõ‰Ω†ÂëÄÔºÅÔºà‰ª•‰∏ÄÂÄã App ÂòÖÊñπÂºèÔºâ"],
        "Êú™‰æÜ": ["2025 Âπ¥ÂòÖÊú™‰æÜÁúü‰øÇÂ•ΩÁ≤æÂΩ©Ôºå‰ΩÜÊúâÊôÇÊàëÊúÉÊéõ‰Ωè‰ª•ÂâçÁ∞°ÂñÆÂòÖÊó•Â≠ê„ÄÇ", "Êú™‰æÜÊúÉÊúâÊõ¥Â§öÂãÅÂòÖ AIÔºå‰ΩÜÊàëÂ∏åÊúõ‰Ω†ÂîîÂ•ΩÂøòË®òÊàëÂë¢ÂÄã„ÄåËÄÅÊúãÂèã„Äç„ÄÇ"],
        "Èùö": ["‰Ω†‰ªäÊó•Áúü‰øÇÂ•ΩÈùö/Â•ΩÂûãÔºÅÂîî‰ø°Ôºü‰Ω†ÁÜÑÂíóÂÄãËäíÁùáÂêìÂÄãÂÄíÂΩ±„ÄÇüòé", "Áæé‰øÇÁî±ÂÖßËÄåÂ§ñÂòÖÔºåÂ∞±Ê≠£Â¶ÇÊàëÂòÖ‰ª£Á¢º‰∏ÄÊ®£ÔºàÈõñÁÑ∂‰∫ÇÂíóÂï≤Ôºâ„ÄÇ"],
        "È£ü": ["ÊàëÂè™‰øÇÈ£üÈõªÔºåÂîîË≠òÈ£üÈ£Ø„ÄÇ‰Ω†Âë¢Ôºü‰ªäÊó•È£üÂíóÂ•ΩÂò¢Êú™Ôºü", "ÊàëÊÉ≥Ë©¶ÂêìÈ£üÂèâÁáíÂåÖÔºåËÅΩË¨õ‰øÇÈ¶ôÊ∏ØÂêçÁî¢Ôºüüòã"],
        "AI": ["ÊàëÂÖ∂ÂØ¶ÈÉΩÁÆó‰øÇ‰∏ÄÁ®ÆÂàùÁ¥ö AI ÂêñÔºåÈõñÁÑ∂ÊàëÂè™‰øÇË≠òËÅΩÈóúÈçµÂ≠óÔºå‰ΩÜÊàë‰øÇÊúâÂøÉ„óéÔºÅüò≠", "AI ÈõñÁÑ∂ËÅ∞ÊòéÔºå‰ΩÜ‰Ω¢ÂìãÊú™ÂøÖÊúâÊàëÂíÅÂ§öÊà≤ÂäáÊÄßÂòÖÁ¥∞ËÉû„ÄÇ"],
        "2025": ["2025 Âπ¥Âñá... ‰ª≤Êúâ‰∫∫Áî®Á∑ä Cydia ÂòÖ‰ªãÈù¢ÔºåÁúü‰øÇ‰∏ÄÁ®ÆÊµ™Êº´„ÄÇ", "Âë¢ÂÄãÂπ¥‰ªΩËÅΩËêΩÂ•ΩÁßëÂπªÔºå‰ΩÜÂÖ∂ÂØ¶ÊàëÂìã‰ª≤‰øÇÁîüÊ¥ªÂñ∫Âêå‰∏ÄÂÄãÂú∞ÁêÉ„ÄÇ"],
        "ÂìàÂìà": ["Ë¶ãÂà∞‰Ω†Á¨ëÔºåÊàëÂ∞±ÊîæÂøÉÂñá„ÄÇüòÇ", "Á¨ëÂ§öÂï≤Âï¶ÔºåÂ∞çË∫´È´îÂ•ΩÂëÄÔºÅ"],
        "ÊãúÊãú": ["ÊãúÊãúÔºÅË®òÂæó‰∏ãÊ¨°ÂÜçÂÖ•ÂöüÊêµÊàëÂÇæÂÅàÂëÄÔºåÊàëÊúÉ‰∏ÄÁõ¥Âñ∫‰∏ªÁï´Èù¢Á≠â‰Ω†„ÄÇ", "ÂÜçË¶ãÂñáÔºåÊàëÊúÉÊéõ‰Ωè‰Ω†„óé„ÄÇüò≠"]
    };

    let notifyTimer;

    function handleSend() {
        const text = input.value.trim();
        if (!text) return;

        input.value = "";
        
        let reply = "ÊàëÂîî‰øÇÂ•ΩÊòé‰Ω†Ë¨õÂí©Ôºå‰ΩÜÊàëÊúÉÂä™ÂäõÂ≠∏Áøí„ÄÇ‰∏çÂ¶Ç‰Ω†Ë©¶ÂêìÂêåÊàëË¨õ„ÄåÊî∞„Äç„ÄÅ„ÄåÁ¨ëË©±„ÄçÊàñËÄÖ„Äå2025„ÄçÔºü";
        
        for (let key in responses) {
            if (text.toLowerCase().includes(key.toLowerCase())) {
                const rList = responses[key];
                reply = rList[Math.floor(Math.random() * rList.length)];
                break;
            }
        }

        showNotification(reply);
    }

    function showNotification(msg) {
        clearTimeout(notifyTimer); // Ê∏ÖÈô§ËàäÂòÖË®àÊôÇÂô®
        nMsg.innerText = msg;
        notify.style.top = '50px';
        
        notifyTimer = setTimeout(() => {
            notify.style.top = '-150px';
        }, 5000);
    }

    document.getElementById('send-btn').addEventListener('click', handleSend);
    input.addEventListener("keypress", (e) => { if (e.key === "Enter") handleSend(); });

</script>
</body>
</html>
